<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>URL Shortener</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    thead, th, td {
      padding-left: 70px;
    }
  </style>
</head>

<body>
  <h1>URL Shortener</h1>
  <br>
  <p>Enter a URL to shorten it:</p>
  <form method="post" action="/url">
    <input type="text" name="url" placeholder="http://example.com">
    <input type="submit" value="Shorten">
  </form>
  <br>
  <% if ( locals.id ) { %>
    <p>Generated URL: <a href="http://localhost:8000/url/<%= id %>" target="_blank">http://localhost:8000/url/<%= id %>
          </a></p>
    <% } %>

  <br>
  <% if (locals.urls) { %>
   <table>
    <thead>
        <th>SI No.</th>
        <th>ShortID</th>
        <th>Redirect URL</th>
        <th>Clicks</th>
    </thead>
    <tbody>
      <% urls.forEach((url, index) => { %>
       <tr>
       <td><%= index + 1 %></td>
       <td><%= url.shortId %></td>
       <td><%= url.redirectUrl %></td>
       <td><%= url.visitHistory.length %></td>
       </tr>
      <% }) %>
    </tbody>
   </table>
  <% } %>

</body>

</html>